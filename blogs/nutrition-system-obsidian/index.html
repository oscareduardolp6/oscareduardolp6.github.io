<!doctype html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta http-equiv=Accept-CH content="DPR, Viewport-Width, Width"><link rel=icon href=/favicon.ico type=image/gif><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" media=print onload='this.media="all"'><noscript><link href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet></noscript><link rel=stylesheet href=/css/font.css media=all><meta property="og:url" content="https://oscarlp6.dev/blogs/nutrition-system-obsidian/"><meta property="og:site_name" content="Oscar López"><meta property="og:title" content="📊 Obsidian: Nutrición"><meta property="og:description" content="A pesar de que no soy una persona fit, este año me he propuesto mejorar mi salud. Esto me ha llevado a prestar mucha más atención a la información nutricional de mis comidas y tener un mayor control sobre mi ingesta diaria. Sin embargo, como todo desarrollador, no quiero pasar demasiado tiempo realizando estas tareas de forma constante. Por ello, he desarrollado un sistema que me permite registrar las comidas a lo largo del día en combinación con mi journal."><meta property="og:locale" content="es"><meta property="og:type" content="article"><meta property="article:section" content="blogs"><meta property="article:published_time" content="2024-03-28T00:00:00+00:00"><meta property="article:modified_time" content="2024-03-28T00:00:00+00:00"><meta property="article:tag" content="Obsidian"><meta property="article:tag" content="Productividad"><meta property="article:tag" content="Herramientas"><meta property="article:tag" content="Sistemas"><meta property="article:tag" content="Nutrición"><meta name=twitter:card content="summary"><meta name=twitter:title content="📊 Obsidian: Nutrición"><meta name=twitter:description content="A pesar de que no soy una persona fit, este año me he propuesto mejorar mi salud. Esto me ha llevado a prestar mucha más atención a la información nutricional de mis comidas y tener un mayor control sobre mi ingesta diaria. Sin embargo, como todo desarrollador, no quiero pasar demasiado tiempo realizando estas tareas de forma constante. Por ello, he desarrollado un sistema que me permite registrar las comidas a lo largo del día en combinación con mi journal."><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css integrity=sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3 crossorigin=anonymous><link rel=stylesheet href=/css/header.css media=all><link rel=stylesheet href=/css/footer.css media=all><link rel=stylesheet href=/css/theme.css media=all><style>:root{--text-color:#343a40;--text-secondary-color:#6c757d;--background-color:#eaedf0;--secondary-background-color:#64ffda1a;--primary-color:#007bff;--secondary-color:#f8f9fa;--text-color-dark:#e4e6eb;--text-secondary-color-dark:#b0b3b8;--background-color-dark:#18191a;--secondary-background-color-dark:#212529;--primary-color-dark:#ffffff;--secondary-color-dark:#212529}body{font-size:1rem;font-weight:400;line-height:1.5;text-align:left}html{background-color:var(--background-color)!important}body::-webkit-scrollbar{height:0;width:8px;background-color:var(--background-color)}::-webkit-scrollbar-track{border-radius:1rem}::-webkit-scrollbar-thumb{border-radius:1rem;background:#b0b0b0;outline:1px solid var(--background-color)}#search-content::-webkit-scrollbar{width:.5em;height:.1em;background-color:var(--background-color)}</style><meta name=description content><link rel=stylesheet href=/css/single.css><script defer src=/fontawesome-6/all-6.4.2.js></script><title>📊 Obsidian: Nutrición | Oscar López</title></head><body class=light><script>let localStorageValue=localStorage.getItem("pref-theme"),mediaQuery=window.matchMedia("(prefers-color-scheme: dark)").matches;switch(localStorageValue){case"dark":document.body.classList.add("dark");break;case"light":document.body.classList.remove("dark");break;default:mediaQuery&&document.body.classList.add("dark");break}</script><header id=profileHeader><nav class="pt-3 navbar navbar-expand-lg animate"><div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5"><a class="navbar-brand primary-font text-wrap" href=/><img src=/favicon.ico width=30 height=30 class="d-inline-block align-top">
Oscar López
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarContent aria-controls=navbarContent aria-expanded=false aria-label="Toggle navigation"><svg aria-hidden="true" height="24" viewBox="0 0 16 16" width="24" data-view-component="true"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button><div class="collapse navbar-collapse text-wrap primary-font" id=navbarContent><ul class="navbar-nav ms-auto text-center"><li class="nav-item navbar-text"><a class=nav-link href=/blogs title="Blog posts">Blog</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#education title=Educación>Educación</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#experience title=Experiencia>Experiencia</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#projects title=Proyectos>Proyectos</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#about title="Sobre mí">Sobre mí</a></li><li class="nav-item navbar-text"><div class=text-center><button id=theme-toggle><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></li></ul></div></div></nav></header><div id=content><section id=single><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-9"><div class=pr-lg-4><div class="title mb-5"><h1 class="text-center mb-4">📊 Obsidian: Nutrición</h1><div class=text-center>Oscar López
<small>|</small>
Mar 28, 2024
<span id=readingTime>min read</span></div></div><div class=featured-image><img class="img-fluid mx-auto d-block" src=/images/articles/Obsidian-nutrition/cover-es.png alt="📊 Obsidian: Nutrición"></div><article class="page-content p-2"><p>A pesar de que no soy una persona fit, este año me he propuesto mejorar mi salud. Esto me ha llevado a prestar mucha más atención a la información nutricional de mis comidas y tener un mayor control sobre mi ingesta diaria. Sin embargo, como todo desarrollador, no quiero pasar demasiado tiempo realizando estas tareas de forma constante. Por ello, he desarrollado un sistema que me permite registrar las comidas a lo largo del día en combinación con mi journal.</p><h2 id=-journal>📓 Journal</h2><p>En posts anteriores he mencionado que mantengo un journal donde registro mucha información acerca de mi día, incluyendo datos que me ayudan a realizar un seguimiento de ciertos aspectos de mi vida, como mis <a href=https://oscarlp6.dev/blogs/projects-obsidian/><strong>proyectos</strong></a> o <a href=https://oscarlp6.dev/blogs/obsidian-knowledge-organization/><strong>conocimientos adquiridos</strong></a>. Además de estos datos, también registro las comidas que consumo a lo largo del día. Al principio, lo hacía para diversificar mi alimentación al vivir solo y prepararme siempre lo mismo, pero ahora lo hago con el objetivo de tener un mayor control sobre mis hábitos alimenticios.</p><p>Para comprender mejor lo que he logrado, voy a mostrar el resultado final de mi sistema. Mi journal está en <a href=https://oscarlp6.dev/blogs/obsidian-introduction/><strong>Obsidian</strong></a>, y esta sería la parte donde visualizo la información sobre mis comidas:</p><img src=/images/articles/Obsidian-nutrition/image1.png alt="Renderizado mi lista de comidas" style=max-width:100%;margin-bottom:1em><p>Como se puede observar, he dividido mi día en 4 secciones, correspondientes a mis 3 comidas principales y los snacks o comidas intermedias. Dentro de cada sección, enlazo a la nota de la comida correspondiente.</p><h2 id=-estructura-de-la-comida>🍽 Estructura de la comida</h2><p>La estructura de las notas de comida sigue una plantilla definida, utilizando el motor de plantillas nativo de <a href=https://oscarlp6.dev/blogs/obsidian-introduction/><strong>Obsidian</strong></a>. La sección de información nutricional es de especial interés, además de los <code>tags</code> que utilizo para identificar las notas de tipo <em>receta</em>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>---
</span></span><span style=display:flex><span>tag: receta
</span></span><span style=display:flex><span>vegetariana: true
</span></span><span style=display:flex><span>pescado: true
</span></span><span style=display:flex><span>tipo_comida: 
</span></span><span style=display:flex><span><span style=color:#66d9ef>-</span> desayuno
</span></span><span style=display:flex><span>dificultad_elaboracion: 5
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># 🥫 {{title}} 
</span></span><span style=display:flex><span><span style=color:#75715e>## 📊 Información nutrimental 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>[Calorias:: 0 kcal] 
</span></span><span style=display:flex><span>[Proteinas:: 0 g] 
</span></span><span style=display:flex><span>[Grasas:: 0 g] 
</span></span><span style=display:flex><span>[Carbohidratos:: 0 g] 
</span></span><span style=display:flex><span>[Fibra:: 0 g] 
</span></span><span style=display:flex><span>[Azucares:: 0 g]
</span></span><span style=display:flex><span><span style=color:#75715e>## 📋 Ingredientes 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>- 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 🧑‍🍳 Receta 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>1. 
</span></span></code></pre></div><p>Cabe destacar que para mi caso de uso, no requiero muchísima presición, entonces los valores los obtengo con <em>IA</em>, le describo la receta y porciones a <a href=https://chat.openai.com/>ChatGPT</a> y me da una muy buena <em>estimación</em> de la información nutrimental de la comida.</p><h2 id=-comidas-de-restaurantes>🍽 Comidas de restaurantes</h2><p>En ocasiones, consumo comidas de restaurantes. Estas notas se diferencian de las recetas caseras, pero también incluyen una tabla de información nutricional.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>---
</span></span><span style=display:flex><span>calificacion: 5
</span></span><span style=display:flex><span>tags:
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>-</span> platillo
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># 🐥 Nugget de [[McDonalds]]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 📊 Información nutrimental 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>[Calorias:: 50 kcal] 
</span></span><span style=display:flex><span>[Proteinas:: 2 g] 
</span></span><span style=display:flex><span>[Grasas:: 2 g] 
</span></span><span style=display:flex><span>[Carbohidratos:: 3 g] 
</span></span><span style=display:flex><span>[Fibra:: 0 g] 
</span></span><span style=display:flex><span>[Azucares:: 1 g]
</span></span></code></pre></div><p>De nuevo, el <code>tag</code> me permite diferenciar que la nota es de una comida, aunque en esta ocasión una comida de <em>restaurante</em>, aunque para el sistema para calcular la información nutrimental no importa mucho, también tiene una propiedad de <em>calificación</em>, esa propiedad la utilizo para registrar las comidas que pedí un restaurantes, al volver a ir al restaurante puedo ver qué me pareció la vez pasada esa comida, para saber si debería volver a pedirla o no, eso no viene al tema de hoy, pero comentenme si les gustaría que comentara la forma en la que recopilo mis <em>recomendaciones</em> de las comidas de cada <em>restaurante</em>.</p><h2 id=-reporte-de-calorías>📊 Reporte de calorías</h2><p>Al final del día, utilizo <a href=https://blacksmithgu.github.io/obsidian-dataview/>Dataview</a>, un plugin de Obsidian, que me permite realizar consultas a mis notas de forma similar a <a href="https://aws.amazon.com/es/what-is/sql/#:~:text=El%20lenguaje%20de%20consulta%20estructurada,una%20base%20de%20datos%20relacional.">SQL</a> para visualizar la información recopilada:</p><img src=/images/articles/Obsidian-nutrition/image2.png alt="Renderizado del reporte de calorías y otras macros" style=max-width:100%;margin-bottom:1em><p>La tabla muestra cada comida del día y su información nutricional, así como una tabla de totales. Es importante destacar que la información en la tabla refleja la cantidad de comida consumida, es decir, la cantidad de cada unidad multiplicada por el número de unidades.</p><p>Para mi, fue un poco complejo lograr la lógica que quería utilizando <a href=https://blacksmithgu.github.io/obsidian-dataview/queries/dql-js-inline/>DQL</a> (el lenguaje de consulta de <strong>Dataview</strong>) entonces aproveché que el plugin nos permite hacer consultas y tableros utilizando <code>Javascript</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>todayMeals</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>pages</span>(<span style=color:#e6db74>&#39;outgoing([[#]]) and (#receta or #platillo)&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>exercises</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>pages</span>(<span style=color:#e6db74>&#39;outgoing([[#]]) and #tipo_ejercicio&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>numExercises</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>current</span>().<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>lists</span>.<span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>array</span>().<span style=color:#a6e22e>findLastIndex</span>(<span style=color:#a6e22e>text</span> =&gt; <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#e6db74>&#39;Serie_&#39;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Si la nota contiene links de ejercicios, entonces comenzamos desde donde terminen los ejercicios, que se registran antes de la comida
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>start</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>numExercises</span> <span style=color:#f92672>===</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>?</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>numExercises</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>listOfMeals</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>current</span>().<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>lists</span>.<span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>array</span>().<span style=color:#a6e22e>slice</span>(<span style=color:#a6e22e>start</span>, <span style=color:#a6e22e>numExercises</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>todayMeals</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>macrosNames</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Calorias&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Proteinas&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Grasas&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Carbohidratos&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Fibra&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Azucares&#39;</span>
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rows</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>todayMeals</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>page</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mealName</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>page</span>.<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>name</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mealInList</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>listOfMeals</span>
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>find</span>(<span style=color:#a6e22e>_mealName</span> =&gt; <span style=color:#a6e22e>_mealName</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#a6e22e>mealName</span>)) <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;No encontrado&#39;</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>times</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getTimes</span>(<span style=color:#a6e22e>mealInList</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>values</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>macrosNames</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>macroName</span> =&gt; <span style=color:#a6e22e>removeUnit</span>(<span style=color:#a6e22e>page</span>[<span style=color:#a6e22e>macroName</span>]) <span style=color:#f92672>*</span> <span style=color:#a6e22e>times</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> [<span style=color:#a6e22e>mealName</span>, <span style=color:#a6e22e>times</span>, ...<span style=color:#a6e22e>values</span>]
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>table</span>(
</span></span><span style=display:flex><span>  [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Comida&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Cantidad en el día&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Calorias (Kcal)&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Proteinas(g)&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Grasas (g)&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Carbohidratos (g)&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Fibra (g)&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Azucares (g)&#39;</span>
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rows</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>header</span>(<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#34;🤭 Totales&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totals</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rows</span>.<span style=color:#a6e22e>array</span>().<span style=color:#a6e22e>reduce</span>((<span style=color:#a6e22e>acc</span>, <span style=color:#a6e22e>val</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>CALORIES_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>PROTEINS_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>FATS_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>CARBS_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>FIBER_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>SUGAR_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// El 2 que se suma en el segundo indice es porque en el arreglo original viene el nombre de la comida
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// y las cantidades por día, entonces hay que adelantar 2 posiciones para acceder al valor que nos interesa
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalCalories</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>CALORIES_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>CALORIES_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalProteins</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>PROTEINS_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>PROTEINS_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalFats</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>FATS_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>FATS_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalCarbs</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>CARBS_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>CARBS_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalFiber</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>FIBER_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>FIBER_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalSugar</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>SUGAR_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>SUGAR_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> [
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalCalories</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalProteins</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalFats</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalCarbs</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalFiber</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalSugar</span>
</span></span><span style=display:flex><span>  ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}, [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>] <span style=color:#75715e>/*Los totales inician en 0 */</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalsWithName</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>totals</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>value</span>, <span style=color:#a6e22e>index</span>) =&gt; [
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>macrosNames</span>[<span style=color:#a6e22e>index</span>],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>value</span><span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>index</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;Kcal&#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;g&#39;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>table</span>(
</span></span><span style=display:flex><span>  [<span style=color:#e6db74>&#39;Macro&#39;</span>, <span style=color:#e6db74>&#39;Total&#39;</span>],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>totalsWithName</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>removeUnit</span>(<span style=color:#a6e22e>text</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>text</span>) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>quantity</span>, <span style=color:#a6e22e>unit</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39; &#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> Number(<span style=color:#a6e22e>quantity</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getTimes</span>(<span style=color:#a6e22e>text</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>timesText</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39; &#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>times</span> <span style=color:#f92672>=</span> Number(<span style=color:#a6e22e>timesText</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>times</span>) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>times</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Lo primero es obtener las comidas del día en <code>todayMeals</code>, entonces utilizamos la <em>&ldquo;selección&rdquo;</em>: <code>outgoing[[#]] and (#receta o #platillo)</code> . Esto significa que queremos obtener todos los <em>links (las notas a las que enlaza la nota, en este caso mi journal del día)</em>, el <code>and</code> actuaría como un <code>join</code>, con las notas que tengan el <code>tag</code> <em>receta</em> o el <code>tag</code> <em>platillo</em>, de esa forma obtendríamos las comidas del día.</p><p>Para obtener las cantidades de la comida, por ejemplo, el número de panes tostados, tengo que obtener la lista de <em>journal</em>, ya que esa información no puede estar en la nota, porque es distinto cada vez, el problema es que en mi journal también tengo una lista de mis <em>ejercicios</em>, así que para evitar que esa lista <em>confunda</em> las cantidades que quiero obtener, tomo todos los <em>bullets</em> de lista del <em>journal</em> y como los ejercicios están antes que la comida, quito esa cantidad de elementos, de forma que donde comience, será en la lista de comidas y no en la lista de ejercicios, esto lo hago con el <code>slice</code> que le digo que comience donde terminan los <em>ejercicios</em> y solo tome la cantidad de <em>comidas</em> que haya.</p><p>De esta forma obtengo los textos que hay en la lista de comidas, esto para poder obtener la cantidad comida, el resto es que a través de un <code>map</code> a las comidas del día obtengo cada fila de la primera tabla, haciendo los calculos de la información nutrimental por la cantidad.</p><p>Y utilizando un <code>reduce</code>, obtengo los totales.</p><h2 id=-problemas-y-mejoras>🐛 Problemas y mejoras</h2><p>Este sistema tiene sus fallos, como los mostrados a continuación. Estoy abierto a sugerencias y mejoras para seguir desarrollando este sistema.</p><h3 id=cuando-se-come-los-mismo-en-2-comidas>Cuando se come los mismo en 2 comidas</h3><p>Tiene problemas cuando se registra una misma <em>receta</em> en 2 comidas diferentes, es decir, si yo desayuno y ceno lo mismo, tengo que registrar la cantidad en un solo punto, porque al hacer el <code>join</code> no me toma las 2 apariciones.</p><h3 id=los-puntos-decimales>Los puntos decimales</h3><p>Este no es un problema como tal, pero tengo que limitar los decimales a 2.</p><h2 id=-conclusión>🤔 Conclusión</h2><p>En conclusión, este sistema me ha permitido tener un mayor control sobre mi ingesta diaria, ayudándome a mejorar mis hábitos alimenticios y mi salud en general. Estoy emocionado por seguir desarrollando y mejorando esta herramienta en el futuro.</p></article></div></div><div class="col-sm-12 col-md-12 col-lg-3"><div id=stickySideBar class=sticky-sidebar><aside class=toc><h5>Table Of Contents</h5><div class=toc-content><nav id=TableOfContents><ul><li><a href=#-journal>📓 Journal</a></li><li><a href=#-estructura-de-la-comida>🍽 Estructura de la comida</a></li><li><a href=#-comidas-de-restaurantes>🍽 Comidas de restaurantes</a></li><li><a href=#-reporte-de-calorías>📊 Reporte de calorías</a></li><li><a href=#-problemas-y-mejoras>🐛 Problemas y mejoras</a><ul><li><a href=#cuando-se-come-los-mismo-en-2-comidas>Cuando se come los mismo en 2 comidas</a></li><li><a href=#los-puntos-decimales>Los puntos decimales</a></li></ul></li><li><a href=#-conclusión>🤔 Conclusión</a></li></ul></nav></div></aside><aside class=tags><h5>Tags</h5><ul class="tags-ul list-unstyled list-inline"><li class=list-inline-item><a href=https://oscarlp6.dev/tags/obsidian target=_blank>obsidian</a></li><li class=list-inline-item><a href=https://oscarlp6.dev/tags/productividad target=_blank>productividad</a></li><li class=list-inline-item><a href=https://oscarlp6.dev/tags/herramientas target=_blank>herramientas</a></li><li class=list-inline-item><a href=https://oscarlp6.dev/tags/sistemas target=_blank>sistemas</a></li><li class=list-inline-item><a href=https://oscarlp6.dev/tags/nutrici%C3%B3n target=_blank>nutrición</a></li></ul></aside><aside class=social><h5>Social</h5><div class=social-content><ul class=list-inline><li class="list-inline-item text-center"><a target=_blank href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2foscarlp6.dev%2fblogs%2fnutrition-system-obsidian%2f"><i class="fab fa-linkedin"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://twitter.com/share?text=%f0%9f%93%8a%20Obsidian%3a%20Nutrici%c3%b3n&url=https%3a%2f%2foscarlp6.dev%2fblogs%2fnutrition-system-obsidian%2f"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://api.whatsapp.com/send?text=%f0%9f%93%8a%20Obsidian%3a%20Nutrici%c3%b3n: https%3a%2f%2foscarlp6.dev%2fblogs%2fnutrition-system-obsidian%2f"><i class="fab fa-whatsapp"></i></a></li><li class="list-inline-item text-center"><a target=_blank href='mailto:?subject=%f0%9f%93%8a%20Obsidian%3a%20Nutrici%c3%b3n&amp;body=Check%20out%20this%20site https%3a%2f%2foscarlp6.dev%2fblogs%2fnutrition-system-obsidian%2f'><i class="fa fa-envelope"></i></a></li></ul></div></aside></div></div></div><div class=row><div class="col-sm-12 col-md-12 col-lg-9 p-4"><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//oscarlp6.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><button class="p-2 px-3" onclick=topFunction() id=topScroll>
<i class="fas fa-angle-up"></i></button></section><div class=progress><div id=scroll-progress-bar class=progress-bar role=progressbar aria-valuenow=0 aria-valuemin=0 aria-valuemax=100></div></div><script src=/js/scrollProgressBar.js></script><script>var topScroll=document.getElementById("topScroll");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?topScroll.style.display="block":topScroll.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}let stickySideBarElem=document.getElementById("stickySideBar"),stickyNavBar=!1;if(stickyNavBar){let e=document.getElementById("profileHeader"),t=e.offsetHeight+15;stickySideBarElem.style.top=t+"px"}else stickySideBarElem.style.top="50px"</script><script src=/js/readingTime.js></script></div><footer><div class="container py-3" id=recent-posts><div class="h3 text-center text-secondary py-3">Artículos recientes</div><div class="row justify-content-center"><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/blogs/code-comments/><img src=/images/articles/Code-Comments/cover.png class=card-img-top alt="✍️ Comentarios"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/blogs/code-comments/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="✍️ Comentarios">✍️ Comentarios</h5></a><div class="card-text secondary-font"><p>Recientemente me topé con este otro artículo en el que habla acerca de cuándo es adecuado y cuándo no utilizar comentarios en el código, es un gran artículo y recomiendo que vayan a echarle un vistazo, a pesar de eso, aunque no coincido con algunos de los puntos que describe. En este artículo …</p></div></div><div class="mt-auto card-footer"><span class=float-start>September 13, 2024</span>
<a href=/blogs/code-comments/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/blogs/immutability/><img src=/images/articles/Immutability/Main.webp class=card-img-top alt="🧱 Inmutabilidad"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/blogs/immutability/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="🧱 Inmutabilidad">🧱 Inmutabilidad</h5></a><div class="card-text secondary-font"><p>Recientemente en mi trabajo me tocó enfrentarme a una base de código que carecía prácticamente por completo de la inmutabilidad. Cada vez me he intentado acercar más a los conceptos y prácticas que vienen del mundo funcional, especialmente la inmutabilidad, por lo que al estar haciendo cambios en el …</p></div></div><div class="mt-auto card-footer"><span class=float-start>June 15, 2024</span>
<a href=/blogs/immutability/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/blogs/task-vs-promises/><img src=/images/articles/Task-vs-Promise/Task-vs-Promise-banner.webp class=card-img-top alt="🕒 Task vs Promise: Encadenación"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/blogs/task-vs-promises/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="🕒 Task vs Promise: Encadenación">🕒 Task vs Promise: …</h5></a><div class="card-text secondary-font"><p>El primer lenguaje en el que aprendí a trabajar de forma asíncrona fue JavaScript. Al principio, me costó mucho trabajo porque era una forma de pensar completamente distinta a la que aprendí en la universidad. Una vez que logré interiorizar los principios de la programación asíncrona, me fue mucho …</p></div></div><div class="mt-auto card-footer"><span class=float-start>June 1, 2024</span>
<a href=/blogs/task-vs-promises/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div></div></div><div class="text-center pt-2"></div><div class="container py-4"><div class="row justify-content-center"><div class="col-md-4 text-center"><div class=pb-2><a href=https://oscarlp6.dev/ title="Oscar López"><img alt="Footer logo" src=/favicon.ico height=40px width=40px></a></div>&copy; 2024 All Rights Reserved<div class=text-secondary>Made with
<span class=text-danger>&#10084;
</span>and
<a href=https://github.com/gurusabarish/hugo-profile target=_blank title="Designed and developed by gurusabarish">Hugo Profile</a></div></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js integrity=sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13 crossorigin=anonymous></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))});var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map(function(e){return new bootstrap.Tooltip(e)})</script><section id=search-content class=py-2><div class=container id=search-results></div></section></body></html>