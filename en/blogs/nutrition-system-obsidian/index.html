<!doctype html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta http-equiv=Accept-CH content="DPR, Viewport-Width, Width"><link rel=icon href=/favicon.ico type=image/gif><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" media=print onload='this.media="all"'><noscript><link href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet></noscript><link rel=stylesheet href=/css/font.css media=all><meta property="og:url" content="https://oscarlp6.dev/en/blogs/nutrition-system-obsidian/"><meta property="og:site_name" content="Oscar López"><meta property="og:title" content="📊 Obsidian: Nutrition"><meta property="og:description" content="Although I am not a fitness enthusiast, this year I have committed to improving my health. This has led me to pay much more attention to the nutritional information of my meals and to have greater control over my daily intake. However, like any developer, I don’t want to spend too much time consistently doing these tasks. Therefore, I have developed a system that allows me to track my meals throughout the day in conjunction with my journal."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blogs"><meta property="article:published_time" content="2024-03-28T00:00:00+00:00"><meta property="article:modified_time" content="2024-03-28T00:00:00+00:00"><meta property="article:tag" content="Obsidian"><meta property="article:tag" content="Productivity"><meta property="article:tag" content="Tooling"><meta property="article:tag" content="Systems"><meta property="article:tag" content="Nutrition"><meta name=twitter:card content="summary"><meta name=twitter:title content="📊 Obsidian: Nutrition"><meta name=twitter:description content="Although I am not a fitness enthusiast, this year I have committed to improving my health. This has led me to pay much more attention to the nutritional information of my meals and to have greater control over my daily intake. However, like any developer, I don’t want to spend too much time consistently doing these tasks. Therefore, I have developed a system that allows me to track my meals throughout the day in conjunction with my journal."><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css integrity=sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3 crossorigin=anonymous><link rel=stylesheet href=/css/header.css media=all><link rel=stylesheet href=/css/footer.css media=all><link rel=stylesheet href=/css/theme.css media=all><style>:root{--text-color:#343a40;--text-secondary-color:#6c757d;--background-color:#eaedf0;--secondary-background-color:#64ffda1a;--primary-color:#007bff;--secondary-color:#f8f9fa;--text-color-dark:#e4e6eb;--text-secondary-color-dark:#b0b3b8;--background-color-dark:#18191a;--secondary-background-color-dark:#212529;--primary-color-dark:#ffffff;--secondary-color-dark:#212529}body{font-size:1rem;font-weight:400;line-height:1.5;text-align:left}html{background-color:var(--background-color)!important}body::-webkit-scrollbar{height:0;width:8px;background-color:var(--background-color)}::-webkit-scrollbar-track{border-radius:1rem}::-webkit-scrollbar-thumb{border-radius:1rem;background:#b0b0b0;outline:1px solid var(--background-color)}#search-content::-webkit-scrollbar{width:.5em;height:.1em;background-color:var(--background-color)}</style><meta name=description content><link rel=stylesheet href=/css/single.css><script defer src=/fontawesome-6/all-6.4.2.js></script><title>📊 Obsidian: Nutrition | Oscar López</title></head><body class=light><script>let localStorageValue=localStorage.getItem("pref-theme"),mediaQuery=window.matchMedia("(prefers-color-scheme: dark)").matches;switch(localStorageValue){case"dark":document.body.classList.add("dark");break;case"light":document.body.classList.remove("dark");break;default:mediaQuery&&document.body.classList.add("dark");break}</script><header id=profileHeader><nav class="pt-3 navbar navbar-expand-lg animate"><div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5"><a class="navbar-brand primary-font text-wrap" href=/><img src=/favicon.ico width=30 height=30 class="d-inline-block align-top">
Oscar López
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarContent aria-controls=navbarContent aria-expanded=false aria-label="Toggle navigation"><svg aria-hidden="true" height="24" viewBox="0 0 16 16" width="24" data-view-component="true"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button><div class="collapse navbar-collapse text-wrap primary-font" id=navbarContent><ul class="navbar-nav ms-auto text-center"><li class="nav-item navbar-text"><a class=nav-link href=/en/blogs title="Blog posts">Blog</a></li><li class="nav-item navbar-text"><a class=nav-link href=/en/#about title="About me">About me</a></li><li class="nav-item navbar-text"><a class=nav-link href=/en/#education title=Education>Education</a></li><li class="nav-item navbar-text"><a class=nav-link href=/en/#experience title=Experience>Experience</a></li><li class="nav-item navbar-text"><a class=nav-link href=/en/#projects title=Projects>Projects</a></li><li class="nav-item navbar-text"><div class=text-center><button id=theme-toggle><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></li></ul></div></div></nav></header><div id=content><section id=single><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-9"><div class=pr-lg-4><div class="title mb-5"><h1 class="text-center mb-4">📊 Obsidian: Nutrition</h1><div class=text-center>Oscar López
<small>|</small>
Mar 28, 2024
<span id=readingTime>min read</span></div></div><div class=featured-image><img class="img-fluid mx-auto d-block" src=/images/articles/Obsidian-nutrition/cover-en.png alt="📊 Obsidian: Nutrition"></div><article class="page-content p-2"><p>Although I am not a fitness enthusiast, this year I have committed to improving my health. This has led me to pay much more attention to the nutritional information of my meals and to have greater control over my daily intake. However, like any developer, I don&rsquo;t want to spend too much time consistently doing these tasks. Therefore, I have developed a system that allows me to track my meals throughout the day in conjunction with my journal.</p><h2 id=-journal>📓 Journal</h2><p>In previous posts, I have mentioned that I maintain a journal where I record a lot of information about my day, including data that helps me track certain aspects of my life, such as my <a href=https://oscarlp6.dev/blogs/projects-obsidian/><strong>projects</strong></a> or <a href=https://oscarlp6.dev/blogs/obsidian-knowledge-organization/><strong>acquired knowledge</strong></a>. In addition to this data, I also record the meals I consume throughout the day. Initially, I did this to diversify my diet while living alone and always preparing the same thing, but now I do it with the aim of having greater control over my eating habits.</p><p>To better understand what I have achieved, I will show the final result of my system. My journal is in <a href=https://oscarlp6.dev/blogs/obsidian-introduction/><strong>Obsidian</strong></a>, and this is where I visualize the information about my meals:</p><img src=/images/articles/Obsidian-nutrition/image1.png alt="Rendering my list of meals" style=max-width:100%;margin-bottom:1em><p>As you can see, I have divided my day into 4 sections, corresponding to my 3 main meals and snacks or intermediate meals. Within each section, I link to the note of the corresponding meal.</p><h2 id=-meal-structure>🍽 Meal Structure</h2><p>The structure of meal notes follows a defined template, using the native template engine of <a href=https://oscarlp6.dev/blogs/obsidian-introduction/><strong>Obsidian</strong></a>. The nutritional information section is of particular interest, as well as the <code>tags</code> I use to identify recipe-type notes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>---
</span></span><span style=display:flex><span>tag: receta
</span></span><span style=display:flex><span>vegetariana: true
</span></span><span style=display:flex><span>pescado: true
</span></span><span style=display:flex><span>tipo_comida: 
</span></span><span style=display:flex><span><span style=color:#66d9ef>-</span> desayuno
</span></span><span style=display:flex><span>dificultad_elaboracion: 5
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># 🥫 {{title}} 
</span></span><span style=display:flex><span><span style=color:#75715e>## 📊 Nutritional Information 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>[Calories:: 0 kcal] 
</span></span><span style=display:flex><span>[Proteins:: 0 g] 
</span></span><span style=display:flex><span>[Fats:: 0 g] 
</span></span><span style=display:flex><span>[Carbohydrates:: 0 g] 
</span></span><span style=display:flex><span>[Fiber:: 0 g] 
</span></span><span style=display:flex><span>[Sugars:: 0 g]
</span></span><span style=display:flex><span><span style=color:#75715e>## 📋 Ingredients 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>- 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 🧑‍🍳 Recipe 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>1. 
</span></span></code></pre></div><p>It is worth mentioning that for my use case, I do not require a high level of precision, so I obtain the values with an AI. I describe the recipe and portions to <a href=https://chat.openai.com/>ChatGPT</a>, and it provides me with a very good estimate of the nutritional information of the meal.</p><h2 id=-restaurant-meals>🍽 Restaurant Meals</h2><p>On occasion, I consume meals from restaurants. These notes differ from homemade recipes but also include a nutritional information table.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>---
</span></span><span style=display:flex><span>calificacion: 5
</span></span><span style=display:flex><span>tags:
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>-</span> platillo
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># 🐥 McDonald&#39;s [[Nugget]]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 📊 Nutritional Information 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>[Calories:: 50 kcal] 
</span></span><span style=display:flex><span>[Proteins:: 2 g] 
</span></span><span style=display:flex><span>[Fats:: 2 g] 
</span></span><span style=display:flex><span>[Carbohydrates:: 3 g] 
</span></span><span style=display:flex><span>[Fiber:: 0 g] 
</span></span><span style=display:flex><span>[Sugars:: 1 g]
</span></span></code></pre></div><p>Once again, the <code>tag</code> allows me to differentiate that the note is about a meal, although in this case, a restaurant meal. Although the nutritional information calculation system does not matter much, it also has a <em>rating</em> property, which I use to record meals ordered at restaurants. Upon returning to the restaurant, I can see how I liked that meal last time, to know if I should order it again or not. This is not the topic for today, but let me know if you would like me to discuss how I compile my recommendations for meals from each restaurant.</p><h2 id=-calorie-report>📊 Calorie Report</h2><p>At the end of the day, I use <a href=https://blacksmithgu.github.io/obsidian-dataview/>Dataview</a>, a plugin for Obsidian, which allows me to make queries to my notes similar to <a href="https://aws.amazon.com/es/what-is/sql/#:~:text=Structured%20Query%20Language%20(SQL)%20is,management%20systems%20(RDBMSs).">SQL</a> to visualize the collected information:</p><img src=/images/articles/Obsidian-nutrition/image2.png alt="Rendering of the calorie and other macros report" style=max-width:100%;margin-bottom:1em><p>The table shows each meal of the day and its nutritional information, as well as a total table. It is important to note that the information in the table reflects the amount of food consumed, meaning the quantity of each unit multiplied by the number of units.</p><p>For me, it was a bit complex to achieve the logic I wanted using <a href=https://blacksmithgu.github.io/obsidian-dataview/queries/dql-js-inline/>DQL</a> (the Dataview query language). So, I took advantage of the fact that the plugin allows us to make queries and boards using <code>Javascript</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>todayMeals</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>pages</span>(<span style=color:#e6db74>&#39;outgoing([[#]]) and (#receta or #platillo)&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>exercises</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>pages</span>(<span style=color:#e6db74>&#39;outgoing([[#]]) and #tipo_ejercicio&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>numExercises</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>current</span>().<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>lists</span>.<span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>array</span>().<span style=color:#a6e22e>findLastIndex</span>(<span style=color:#a6e22e>text</span> =&gt; <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#e6db74>&#39;Serie_&#39;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// If the note contains exercise links, then we start from where the exercises end, which are recorded before the meal.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>start</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>numExercises</span> <span style=color:#f92672>===</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>?</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>numExercises</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>listOfMeals</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>current</span>().<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>lists</span>.<span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>array</span>().<span style=color:#a6e22e>slice</span>(<span style=color:#a6e22e>start</span>, <span style=color:#a6e22e>numExercises</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>todayMeals</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>macrosNames</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Calorias&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Proteinas&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Grasas&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Carbohidratos&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Fibra&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Azucares&#39;</span>
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rows</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>todayMeals</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>page</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mealName</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>page</span>.<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>name</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mealInList</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>listOfMeals</span>
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>find</span>(<span style=color:#a6e22e>_mealName</span> =&gt; <span style=color:#a6e22e>_mealName</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#a6e22e>mealName</span>)) <span style=color:#f92672>??</span> <span style=color:#e6db74>&#39;No encontrado&#39;</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>times</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getTimes</span>(<span style=color:#a6e22e>mealInList</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>values</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>macrosNames</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>macroName</span> =&gt; <span style=color:#a6e22e>removeUnit</span>(<span style=color:#a6e22e>page</span>[<span style=color:#a6e22e>macroName</span>]) <span style=color:#f92672>*</span> <span style=color:#a6e22e>times</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> [<span style=color:#a6e22e>mealName</span>, <span style=color:#a6e22e>times</span>, ...<span style=color:#a6e22e>values</span>]
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>table</span>(
</span></span><span style=display:flex><span>  [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Comida&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Cantidad en el día&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Calorias (Kcal)&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Proteinas(g)&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Grasas (g)&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Carbohidratos (g)&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Fibra (g)&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Azucares (g)&#39;</span>
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rows</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>header</span>(<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#34;🤭 Totales&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totals</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rows</span>.<span style=color:#a6e22e>array</span>().<span style=color:#a6e22e>reduce</span>((<span style=color:#a6e22e>acc</span>, <span style=color:#a6e22e>val</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>CALORIES_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>PROTEINS_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>FATS_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>CARBS_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>FIBER_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>SUGAR_INDEX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// The 2 added to the second index is because in the original array, the name of the meal and the quantities per day come first. Therefore, we need to advance 2 positions to access the value we are interested in.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalCalories</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>CALORIES_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>CALORIES_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalProteins</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>PROTEINS_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>PROTEINS_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalFats</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>FATS_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>FATS_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalCarbs</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>CARBS_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>CARBS_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalFiber</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>FIBER_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>FIBER_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalSugar</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>acc</span>[<span style=color:#a6e22e>SUGAR_INDEX</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>val</span>[<span style=color:#a6e22e>SUGAR_INDEX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> [
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalCalories</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalProteins</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalFats</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalCarbs</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalFiber</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>totalSugar</span>
</span></span><span style=display:flex><span>  ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}, [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>] <span style=color:#75715e>/*Totals start in 0 */</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>totalsWithName</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>totals</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>value</span>, <span style=color:#a6e22e>index</span>) =&gt; [
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>macrosNames</span>[<span style=color:#a6e22e>index</span>],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>value</span><span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>index</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;Kcal&#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;g&#39;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dv</span>.<span style=color:#a6e22e>table</span>(
</span></span><span style=display:flex><span>  [<span style=color:#e6db74>&#39;Macro&#39;</span>, <span style=color:#e6db74>&#39;Total&#39;</span>],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>totalsWithName</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>removeUnit</span>(<span style=color:#a6e22e>text</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>text</span>) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>quantity</span>, <span style=color:#a6e22e>unit</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39; &#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> Number(<span style=color:#a6e22e>quantity</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getTimes</span>(<span style=color:#a6e22e>text</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>timesText</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39; &#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>times</span> <span style=color:#f92672>=</span> Number(<span style=color:#a6e22e>timesText</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>times</span>) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>times</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The first step is to obtain the meals of the day in <code>todayMeals</code>, so we use the &ldquo;selection&rdquo;: <code>outgoing[[#]] and (#receta or #platillo)</code>. This means that we want to obtain all the links (the notes to which the note links, in this case, my journal of the day), and the <code>and</code> acts as a <code>join</code>, with the notes that have the <code>tag</code> <em>receta</em> or the <code>tag</code> <em>platillo</em>, that way, we would obtain the meals of the day.</p><p>To get the quantities of the meal, for example, the number of toasted breads, I have to obtain the journal list, since that information cannot be in the note because it is different every time. The problem is that in my journal, I also have a list of my exercises, so to avoid that list confusing the quantities I want to obtain, I take all the list bullets from the journal, and since the exercises are before the meal, I remove that number of elements, so that where it starts will be in the list of meals and not in the list of exercises, I do this with the <code>slice</code>, telling it to start where the <em>exercises</em> end and only take the number of <em>meals</em> there are.</p><p>This way, I get the texts in the list of meals, this to be able to obtain the quantity of food, the rest is that through a <code>map</code> to the meals of the day, I get each row of the first table, doing the calculations of the nutritional information per quantity.</p><p>And using a <code>reduce</code>, I get the totals.</p><h2 id=-issues-and-improvements>🐛 Issues and Improvements</h2><p>This system has its flaws, as shown below. I am open to suggestions and improvements to continue developing this system.</p><h3 id=eating-the-same-in-2-meals>Eating the Same in 2 Meals</h3><p>It has issues when registering the same recipe in 2 different meals, meaning if I have the same thing for breakfast and dinner, I have to register the quantity in a single spot because when doing the <code>join</code>, it doesn&rsquo;t take the 2 occurrences.</p><h3 id=decimal-points>Decimal Points</h3><p>This is not a problem per se, but I have to limit the decimals to 2.</p><h2 id=-conclusion>🤔 Conclusion</h2><p>In conclusion, this system has allowed me to have greater control over my daily intake, helping me improve my eating habits and my overall health. I am excited to continue developing and improving this tool in the future.</p></article></div></div><div class="col-sm-12 col-md-12 col-lg-3"><div id=stickySideBar class=sticky-sidebar><aside class=toc><h5>Table Of Contents</h5><div class=toc-content><nav id=TableOfContents><ul><li><a href=#-journal>📓 Journal</a></li><li><a href=#-meal-structure>🍽 Meal Structure</a></li><li><a href=#-restaurant-meals>🍽 Restaurant Meals</a></li><li><a href=#-calorie-report>📊 Calorie Report</a></li><li><a href=#-issues-and-improvements>🐛 Issues and Improvements</a><ul><li><a href=#eating-the-same-in-2-meals>Eating the Same in 2 Meals</a></li><li><a href=#decimal-points>Decimal Points</a></li></ul></li><li><a href=#-conclusion>🤔 Conclusion</a></li></ul></nav></div></aside><aside class=tags><h5>Tags</h5><ul class="tags-ul list-unstyled list-inline"><li class=list-inline-item><a href=https://oscarlp6.dev/tags/obsidian target=_blank>obsidian</a></li><li class=list-inline-item><a href=https://oscarlp6.dev/tags/productivity target=_blank>productivity</a></li><li class=list-inline-item><a href=https://oscarlp6.dev/tags/tooling target=_blank>tooling</a></li><li class=list-inline-item><a href=https://oscarlp6.dev/tags/systems target=_blank>systems</a></li><li class=list-inline-item><a href=https://oscarlp6.dev/tags/nutrition target=_blank>nutrition</a></li></ul></aside><aside class=social><h5>Social</h5><div class=social-content><ul class=list-inline><li class="list-inline-item text-center"><a target=_blank href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2foscarlp6.dev%2fen%2fblogs%2fnutrition-system-obsidian%2f"><i class="fab fa-linkedin"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://twitter.com/share?text=%f0%9f%93%8a%20Obsidian%3a%20Nutrition&url=https%3a%2f%2foscarlp6.dev%2fen%2fblogs%2fnutrition-system-obsidian%2f"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://api.whatsapp.com/send?text=%f0%9f%93%8a%20Obsidian%3a%20Nutrition: https%3a%2f%2foscarlp6.dev%2fen%2fblogs%2fnutrition-system-obsidian%2f"><i class="fab fa-whatsapp"></i></a></li><li class="list-inline-item text-center"><a target=_blank href='mailto:?subject=%f0%9f%93%8a%20Obsidian%3a%20Nutrition&amp;body=Check%20out%20this%20site https%3a%2f%2foscarlp6.dev%2fen%2fblogs%2fnutrition-system-obsidian%2f'><i class="fa fa-envelope"></i></a></li></ul></div></aside></div></div></div><div class=row><div class="col-sm-12 col-md-12 col-lg-9 p-4"><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//oscarlp6.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><button class="p-2 px-3" onclick=topFunction() id=topScroll>
<i class="fas fa-angle-up"></i></button></section><div class=progress><div id=scroll-progress-bar class=progress-bar role=progressbar aria-valuenow=0 aria-valuemin=0 aria-valuemax=100></div></div><script src=/js/scrollProgressBar.js></script><script>var topScroll=document.getElementById("topScroll");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?topScroll.style.display="block":topScroll.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}let stickySideBarElem=document.getElementById("stickySideBar"),stickyNavBar=!1;if(stickyNavBar){let e=document.getElementById("profileHeader"),t=e.offsetHeight+15;stickySideBarElem.style.top=t+"px"}else stickySideBarElem.style.top="50px"</script><script src=/js/readingTime.js></script></div><footer><div class="container py-3" id=recent-posts><div class="h3 text-center text-secondary py-3">Recent Posts</div><div class="row justify-content-center"><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/en/blogs/is-methods/><img src=/images/articles/is-methods/cover.png class=card-img-top alt="🏗️ `Is` Methods"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/en/blogs/is-methods/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="🏗️ `Is` Methods">🏗️ `Is` Methods</h5></a><div class="card-text secondary-font"><p>Lately, I’ve been deeply immersed in functional programming with languages like TypeScript and to a much lesser extent with Haskell. Beyond the specificities of functional programming like Monads, I’ve been fascinated by concepts related to typing, such as Union Types and the utilities they bring. …</p></div></div><div class="mt-auto card-footer"><span class=float-start>December 18, 2024</span>
<a href=/en/blogs/is-methods/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/en/blogs/obsidian-journaling/><img src=/images/articles/obsidian-journaling/cover-en.png class=card-img-top alt="✍️ Obsidian: Journaling"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/en/blogs/obsidian-journaling/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="✍️ Obsidian: Journaling">✍️ Obsidian: Journaling</h5></a><div class="card-text secondary-font"><p>Since I was around 14 years old, I have found it very satisfying, relaxing, and therapeutic to keep a journal where I write down all sorts of things that happen to me throughout the day. At first, it was just about making a summary of what had happened during the day: important events, feelings, …</p></div></div><div class="mt-auto card-footer"><span class=float-start>December 11, 2024</span>
<a href=/en/blogs/obsidian-journaling/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div></div></div><div class="text-center pt-2"></div><div class="container py-4"><div class="row justify-content-center"><div class="col-md-4 text-center"><div class=pb-2><a href=https://oscarlp6.dev/ title="Oscar López"><img alt="Footer logo" src=/favicon.ico height=40px width=40px></a></div>&copy; 2024 All Rights Reserved<div class=text-secondary>Made with
<span class=text-danger>&#10084;
</span>and
<a href=https://github.com/gurusabarish/hugo-profile target=_blank title="Designed and developed by gurusabarish">Hugo Profile</a></div></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js integrity=sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13 crossorigin=anonymous></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))});var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map(function(e){return new bootstrap.Tooltip(e)})</script><section id=search-content class=py-2><div class=container id=search-results></div></section></body></html>