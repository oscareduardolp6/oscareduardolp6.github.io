<!doctype html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta http-equiv=Accept-CH content="DPR, Viewport-Width, Width"><link rel=icon href=/favicon.ico type=image/gif><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" media=print onload='this.media="all"'><noscript><link href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet></noscript><link rel=stylesheet href=/css/font.css media=all><meta property="og:url" content="https://oscarlp6.dev/en/blogs/immutability/"><meta property="og:site_name" content="Oscar L√≥pez"><meta property="og:title" content="üß± Immutability"><meta property="og:description" content="Recently at work, I had to deal with a codebase that lacked immutability almost entirely. I have been trying to get closer to concepts and practices from the functional programming world, especially immutability, so when making changes to the code, I missed this feature a lot. I believe it has many advantages, which we will address in this article.
‚ùî What is Immutability? Immutability refers to the property of an object whose state cannot be modified after its creation."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blogs"><meta property="article:published_time" content="2024-06-15T00:00:00+00:00"><meta property="article:modified_time" content="2024-06-15T00:00:00+00:00"><meta property="article:tag" content="Architecture"><meta property="article:tag" content="Good Practices"><meta property="article:tag" content="Clean Code"><meta name=twitter:card content="summary"><meta name=twitter:title content="üß± Immutability"><meta name=twitter:description content="Recently at work, I had to deal with a codebase that lacked immutability almost entirely. I have been trying to get closer to concepts and practices from the functional programming world, especially immutability, so when making changes to the code, I missed this feature a lot. I believe it has many advantages, which we will address in this article.
‚ùî What is Immutability? Immutability refers to the property of an object whose state cannot be modified after its creation."><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css integrity=sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3 crossorigin=anonymous><link rel=stylesheet href=/css/header.css media=all><link rel=stylesheet href=/css/footer.css media=all><link rel=stylesheet href=/css/theme.css media=all><style>:root{--text-color:#343a40;--text-secondary-color:#6c757d;--background-color:#eaedf0;--secondary-background-color:#64ffda1a;--primary-color:#007bff;--secondary-color:#f8f9fa;--text-color-dark:#e4e6eb;--text-secondary-color-dark:#b0b3b8;--background-color-dark:#18191a;--secondary-background-color-dark:#212529;--primary-color-dark:#ffffff;--secondary-color-dark:#212529}body{font-size:1rem;font-weight:400;line-height:1.5;text-align:left}html{background-color:var(--background-color)!important}body::-webkit-scrollbar{height:0;width:8px;background-color:var(--background-color)}::-webkit-scrollbar-track{border-radius:1rem}::-webkit-scrollbar-thumb{border-radius:1rem;background:#b0b0b0;outline:1px solid var(--background-color)}#search-content::-webkit-scrollbar{width:.5em;height:.1em;background-color:var(--background-color)}</style><meta name=description content><link rel=stylesheet href=/css/single.css><script defer src=/fontawesome-6/all-6.4.2.js></script><title>üß± Immutability | Oscar L√≥pez</title></head><body class=light><script>let localStorageValue=localStorage.getItem("pref-theme"),mediaQuery=window.matchMedia("(prefers-color-scheme: dark)").matches;switch(localStorageValue){case"dark":document.body.classList.add("dark");break;case"light":document.body.classList.remove("dark");break;default:mediaQuery&&document.body.classList.add("dark");break}</script><header id=profileHeader><nav class="pt-3 navbar navbar-expand-lg animate"><div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5"><a class="navbar-brand primary-font text-wrap" href=/><img src=/favicon.ico width=30 height=30 class="d-inline-block align-top">
Oscar L√≥pez
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarContent aria-controls=navbarContent aria-expanded=false aria-label="Toggle navigation"><svg aria-hidden="true" height="24" viewBox="0 0 16 16" width="24" data-view-component="true"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button><div class="collapse navbar-collapse text-wrap primary-font" id=navbarContent><ul class="navbar-nav ms-auto text-center"><li class="nav-item navbar-text"><a class=nav-link href=/blogs title="Blog posts">Blog</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#education title=Educaci√≥n>Educaci√≥n</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#experience title=Experiencia>Experiencia</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#projects title=Proyectos>Proyectos</a></li><li class="nav-item navbar-text"><a class=nav-link href=/#about title="Sobre m√≠">Sobre m√≠</a></li><li class="nav-item navbar-text"><div class=text-center><button id=theme-toggle><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></li></ul></div></div></nav></header><div id=content><section id=single><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-9"><div class=pr-lg-4><div class="title mb-5"><h1 class="text-center mb-4">üß± Immutability</h1><div class=text-center>Oscar L√≥pez
<small>|</small>
Jun 15, 2024
<span id=readingTime>min read</span></div></div><div class=featured-image><img class="img-fluid mx-auto d-block" src=/images/articles/Immutability/Main.webp alt="üß± Immutability"></div><article class="page-content p-2"><p>Recently at work, I had to <em>deal</em> with a codebase that lacked immutability almost entirely. I have been trying to get closer to concepts and practices from the functional programming world, especially <em>immutability</em>, so when making changes to the code, I missed this feature a lot. I believe it has many advantages, which we will address in this article.</p><h2 id=-what-is-immutability>‚ùî What is Immutability?</h2><p><strong>Immutability</strong> refers to the property of an object whose state cannot be modified after its creation. Instead of changing the existing object, any operation that modifies the state of the object returns a new object with the modified state. Here is an example in C#:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>string</span> Name { <span style=color:#66d9ef>get</span>; }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> Age { <span style=color:#66d9ef>get</span>; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Person(<span style=color:#66d9ef>string</span> name, <span style=color:#66d9ef>int</span> age)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        Name = name;
</span></span><span style=display:flex><span>        Age = age;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Person WithIncreasedAge()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Person(<span style=color:#66d9ef>this</span>.Name, <span style=color:#66d9ef>this</span>.Age + <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Usage</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> person = <span style=color:#66d9ef>new</span> Person(<span style=color:#e6db74>&#34;Oscar&#34;</span>, <span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> olderPerson = person.WithIncreasedAge();
</span></span><span style=display:flex><span>Console.WriteLine(person.Age); <span style=color:#75715e>// 30</span>
</span></span><span style=display:flex><span>Console.WriteLine(olderPerson.Age); <span style=color:#75715e>// 31</span>
</span></span></code></pre></div><h2 id=-side-effects>üßü Side Effects</h2><p>Having <strong>side effects</strong> complicates knowing where things change. I have to look into each method to see what changes it made to the passed object. When an object is <strong>immutable</strong>, any modification results in the creation of a new object instead of changing the existing one. This means I can trust that an object will not change once it has been created, thereby reducing the uncertainty about the state of data in my application.</p><h2 id=-debugging>üß© Debugging</h2><p>When <strong>debugging</strong>, you can know that certain methods will change an object because they return a new one. Without this, I would have to look into the method to see how it changed. <strong>Immutability</strong> simplifies the debugging process because every transformation in the data is explicit. Instead of tracking which methods might have altered a particular object, I know that transformations are done in a controlled and predictable manner, making it easier to locate and fix errors.</p><h2 id=-concurrency>‚è≥ Concurrency</h2><p><strong>Immutability</strong> allows <strong>concurrency</strong> practically for free. When data is immutable, there is no risk of multiple threads modifying the same object at the same time, which can cause hard-to-reproduce and fix errors. Immutability eliminates these problems at their root, allowing threads to work in parallel without the need for explicit synchronization.</p><h2 id=-testing>üß™ Testing</h2><p>It&rsquo;s easier to replicate test cases since there are no side effects. In a testing environment, immutable objects ensure that each test starts with a known state and will not be affected by previous tests. This facilitates the creation of consistent and repeatable tests, increasing the reliability of test results and the quality of the code.</p><h2 id=-conclusion>ü§î Conclusion</h2><p>Although in many cases it makes sense to <strong>mutate objects</strong>, especially in contexts where performance is critical, and creating new objects could be costly, <strong>immutability</strong> should be the default mode. The clarity, simplicity, and safety it provides outweigh the disadvantages in most applications. Adopting immutability not only makes code maintenance and debugging easier but also improves concurrency and test reliability, making software development more predictable and less error-prone.</p></article></div></div><div class="col-sm-12 col-md-12 col-lg-3"><div id=stickySideBar class=sticky-sidebar><aside class=toc><h5>Table Of Contents</h5><div class=toc-content><nav id=TableOfContents><ul><li><a href=#-what-is-immutability>‚ùî What is Immutability?</a></li><li><a href=#-side-effects>üßü Side Effects</a></li><li><a href=#-debugging>üß© Debugging</a></li><li><a href=#-concurrency>‚è≥ Concurrency</a></li><li><a href=#-testing>üß™ Testing</a></li><li><a href=#-conclusion>ü§î Conclusion</a></li></ul></nav></div></aside><aside class=tags><h5>Tags</h5><ul class="tags-ul list-unstyled list-inline"><li class=list-inline-item><a href=https://oscarlp6.dev/tags/architecture target=_blank>Architecture</a></li><li class=list-inline-item><a href=https://oscarlp6.dev/tags/good-practices target=_blank>Good practices</a></li><li class=list-inline-item><a href=https://oscarlp6.dev/tags/clean-code target=_blank>Clean Code</a></li></ul></aside><aside class=social><h5>Social</h5><div class=social-content><ul class=list-inline><li class="list-inline-item text-center"><a target=_blank href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2foscarlp6.dev%2fen%2fblogs%2fimmutability%2f"><i class="fab fa-linkedin"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://twitter.com/share?text=%f0%9f%a7%b1%20Immutability&url=https%3a%2f%2foscarlp6.dev%2fen%2fblogs%2fimmutability%2f"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://api.whatsapp.com/send?text=%f0%9f%a7%b1%20Immutability: https%3a%2f%2foscarlp6.dev%2fen%2fblogs%2fimmutability%2f"><i class="fab fa-whatsapp"></i></a></li><li class="list-inline-item text-center"><a target=_blank href='mailto:?subject=%f0%9f%a7%b1%20Immutability&amp;body=Check%20out%20this%20site https%3a%2f%2foscarlp6.dev%2fen%2fblogs%2fimmutability%2f'><i class="fa fa-envelope"></i></a></li></ul></div></aside></div></div></div><div class=row><div class="col-sm-12 col-md-12 col-lg-9 p-4"><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//oscarlp6.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><button class="p-2 px-3" onclick=topFunction() id=topScroll>
<i class="fas fa-angle-up"></i></button></section><div class=progress><div id=scroll-progress-bar class=progress-bar role=progressbar aria-valuenow=0 aria-valuemin=0 aria-valuemax=100></div></div><script src=/js/scrollProgressBar.js></script><script>var topScroll=document.getElementById("topScroll");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?topScroll.style.display="block":topScroll.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}let stickySideBarElem=document.getElementById("stickySideBar"),stickyNavBar=!1;if(stickyNavBar){let e=document.getElementById("profileHeader"),t=e.offsetHeight+15;stickySideBarElem.style.top=t+"px"}else stickySideBarElem.style.top="50px"</script><script src=/js/readingTime.js></script></div><footer><div class="container py-3" id=recent-posts><div class="h3 text-center text-secondary py-3">Recent Posts</div><div class="row justify-content-center"><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/en/blogs/code-comments/><img src=/images/articles/Code-Comments/cover.png class=card-img-top alt="‚úçÔ∏è Code Comments"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/en/blogs/code-comments/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="‚úçÔ∏è Code Comments">‚úçÔ∏è Code Comments</h5></a><div class="card-text secondary-font"><p>Recently, I came across this other article where the author talks about when it‚Äôs appropriate to use comments in code, and when it‚Äôs not. It&rsquo;s a great article, and I recommend checking it out, even though I don‚Äôt fully agree with some of the points made.
In this article, I‚Äôll try to give my ‚Ä¶</p></div></div><div class="mt-auto card-footer"><span class=float-start>September 13, 2024</span>
<a href=/en/blogs/code-comments/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/en/blogs/immutability/><img src=/images/articles/Immutability/Main.webp class=card-img-top alt="üß± Immutability"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/en/blogs/immutability/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="üß± Immutability">üß± Immutability</h5></a><div class="card-text secondary-font"><p>Recently at work, I had to deal with a codebase that lacked immutability almost entirely. I have been trying to get closer to concepts and practices from the functional programming world, especially immutability, so when making changes to the code, I missed this feature a lot. I believe it has many ‚Ä¶</p></div></div><div class="mt-auto card-footer"><span class=float-start>June 15, 2024</span>
<a href=/en/blogs/immutability/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/en/blogs/task-vs-promises/><img src=/images/articles/Task-vs-Promise/Task-vs-Promise-banner.webp class=card-img-top alt="üïí Task vs Promise: Chaining"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/en/blogs/task-vs-promises/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="üïí Task vs Promise: Chaining">üïí Task vs Promise: ‚Ä¶</h5></a><div class="card-text secondary-font"><p>The first language in which I learned to work asynchronously was JavaScript. Initially, it was very challenging because it was a completely different way of thinking from what I had learned in university. Once I internalized the principles of asynchronous programming, it became much easier. So, when ‚Ä¶</p></div></div><div class="mt-auto card-footer"><span class=float-start>June 1, 2024</span>
<a href=/en/blogs/task-vs-promises/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div></div></div><div class="text-center pt-2"></div><div class="container py-4"><div class="row justify-content-center"><div class="col-md-4 text-center"><div class=pb-2><a href=https://oscarlp6.dev/ title="Oscar L√≥pez"><img alt="Footer logo" src=/favicon.ico height=40px width=40px></a></div>&copy; 2024 All Rights Reserved<div class=text-secondary>Made with
<span class=text-danger>&#10084;
</span>and
<a href=https://github.com/gurusabarish/hugo-profile target=_blank title="Designed and developed by gurusabarish">Hugo Profile</a></div></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js integrity=sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13 crossorigin=anonymous></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))});var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map(function(e){return new bootstrap.Tooltip(e)})</script><section id=search-content class=py-2><div class=container id=search-results></div></section></body></html>